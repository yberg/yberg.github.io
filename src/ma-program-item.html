<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-ajax/iron-ajax.html"><link rel="import" href="../bower_components/iron-image/iron-image.html"><link rel="import" href="../bower_components/paper-card/paper-card.html"><link rel="import" href="ma-moment.html"><link rel="import" href="ma-program-data.html"><link rel="import" href="shared-styles.html"></head><body><dom-module id="ma-program-item"><template><style include="shared-styles">:host{display:flex;flex-direction:column;--paper-card:{flex:1;margin:8px;};--paper-card-header-image-text:{color:white;text-shadow:1px 1px 1px rgba(0, 0, 0, .5);};}</style><app-route route="[[route]]" pattern="/:id" data="{{routeData}}"></app-route><ma-program-data id="[[routeData.id]]" item="{{item}}"></ma-program-data><div class="condense" style="display: flex"><paper-card heading="[[item.Title]]" image="[[item.IconUrl]]"><div class="card-content"><strong>[[_format(item.StartDate, 'date')]]</strong><br><strong>[[_format(item.StartDate, 'time')]] - [[_format(item.EndDate, 'time')]]</strong><br>[[item.Description]]<br><template is="dom-if" if="[[_hasImages(item.ProgramMedias)]]"><h3>Images</h3><template is="dom-repeat" items="[[_filterImages(item.ProgramMedias)]]" as="image"><iron-image src="[[image.ThumbUrl]]"></iron-image></template></template></div></paper-card></div></template><script>class MaProgramItem extends Polymer.Element{static get is(){return'ma-program-item'}static get properties(){return{item:Object,active:{type:Boolean,observer:'_activeChanged'}}}_activeChanged(){this.animate([{transform:'translateY(40px)',opacity:0,easing:'ease-out'},{transform:'translateY(0)',opacity:1,easing:'ease-in'}],{duration:350})}_format(a,b){switch(b){case'date':return moment(a).format('dddd, D MMMM YYYY');break;case'time':return moment(a).format('HH:MM');break;default:return moment(a);}}_hasImages(a){return(a||[]).some((a)=>!0===a.IsImage)}_filterImages(a){return a.filter((a)=>!0===a.IsImage)}}window.customElements.define(MaProgramItem.is,MaProgramItem);</script></dom-module></body></html>