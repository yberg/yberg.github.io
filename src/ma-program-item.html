<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-ajax/iron-ajax.html"><link rel="import" href="../bower_components/iron-image/iron-image.html"><link rel="import" href="../bower_components/paper-card/paper-card.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="moment.html"><link rel="import" href="ma-header-layout.html"><link rel="import" href="ma-program-data.html"><link rel="import" href="ma-animations.html"><link rel="import" href="ma-icons.html"><link rel="import" href="shared-styles.html"></head><body><dom-module id="ma-program-item"><template><style include="shared-styles">:host{display:flex;flex-direction:column;background-attachment:fixed;background-size:100% auto;background-repeat:no-repeat;--paper-card:{flex:1;};--paper-card-header-image-text:{color:white;text-shadow:1px 1px 1px rgba(0, 0, 0, .5);};}ma-header-layout{--ma-header-background-color:transparent;--ma-header-background-rear-color:var(--app-primary-color);}</style><app-route route="[[route]]" pattern="/:id" data="{{routeData}}"></app-route><ma-program-data id="[[routeData.id]]" item="{{item}}"></ma-program-data><ma-header-layout effects="waterfall fade-background" reveals="" back-button="" back-link="program"><div id="container" class="condense flex card-container"><paper-card heading="[[item.Title]]"><div class="card-content"><strong>[[_format(item.StartDate, 'date')]]</strong><br><strong>[[_format(item.StartDate, 'time')]] - [[_format(item.EndDate, 'time')]]</strong><br>[[item.Description]]<br><template is="dom-if" if="[[_hasImages(item.ProgramMedias)]]"><h3>Images</h3><template is="dom-repeat" items="[[_filterImages(item.ProgramMedias)]]" as="image"><iron-image src="[[image.ThumbUrl]]"></iron-image></template></template></div></paper-card></div></ma-header-layout></template><script>class MaProgramItem extends Polymer.Element{static get is(){return'ma-program-item'}static get properties(){return{item:{type:Object,observer:'_itemChanged'},active:{type:Boolean,observer:'_activeChanged'}}}_itemChanged(a){a&&(this.style.backgroundImage=`url(${a.FeaturedImageUrl})`)}_activeChanged(){const{slideUp:a,fadeIn:b}=Animations;this.animate(b.keyframes,b.options),this.$.container.animate(a.keyframes,a.options)}_format(a,b){switch(b){case'date':return moment(a).format('dddd, D MMMM YYYY');break;case'time':return moment(a).format('HH:MM');break;default:return moment(a);}}_hasImages(a){return(a||[]).some((a)=>!0===a.IsImage)}_filterImages(a){return a.filter((a)=>!0===a.IsImage)}}window.customElements.define(MaProgramItem.is,MaProgramItem);</script></dom-module></body></html>