<html><head><script>"use strict";!function(){function b(a){return Array.prototype.slice.call(a)}function g(a){return new Promise(function(b,c){a.onsuccess=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function j(a,b,c){var d,e=new Promise(function(e,f){g(d=a[b].apply(a,c)).then(e,f)});return e.request=d,e}function e(a,b,c){var d=j(a,b,c);return d.then(function(a){if(a)return new o(a,d.request)})}function k(a,b,c){c.forEach(function(c){Object.defineProperty(a.prototype,c,{get:function(){return this[b][c]},set:function(a){this[b][c]=a}})})}function m(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return j(this[b],d,arguments)})})}function i(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return this[b][d].apply(this[b],arguments)})})}function n(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return e(this[b],d,arguments)})})}function c(a){this._index=a}function o(a,b){this._cursor=a,this._request=b}function a(a){this._store=a}function p(a){this._tx=a,this.complete=new Promise(function(b,c){a.oncomplete=function(){b()},a.onerror=function(){c(a.error)},a.onabort=function(){c(a.error)}})}function f(a,b,c){this._db=a,this.oldVersion=b,this.transaction=new p(c)}function d(a){this._db=a}k(c,"_index",["name","keyPath","multiEntry","unique"]),m(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),n(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),k(o,"_cursor",["direction","key","primaryKey","value"]),m(o,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(o.prototype[a]=function(){var b=this,c=arguments;return Promise.resolve().then(function(){return b._cursor[a].apply(b._cursor,c),g(b._request).then(function(a){if(a)return new o(a,b._request)})})})}),a.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},a.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},k(a,"_store",["name","keyPath","indexNames","autoIncrement"]),m(a,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),n(a,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(a,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new a(this._tx.objectStore.apply(this._tx,arguments))},k(p,"_tx",["objectStoreNames","mode"]),i(p,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new a(this._db.createObjectStore.apply(this._db,arguments))},k(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},k(d,"_db",["name","version","objectStoreNames"]),i(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(d){[a,c].forEach(function(a){a.prototype[d.replace("open","iterate")]=function(){var a=b(arguments),c=a[a.length-1],e=this._store||this._index,f=e[d].apply(e,a.slice(0,-1));f.onsuccess=function(){c(f.result)}}})}),[c,a].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,b){var c=this,d=[];return new Promise(function(f){c.iterateCursor(a,function(a){a?(d.push(a.value),void 0===b||d.length!=b?a.continue():f(d)):f(d)})})})});var l={open:function(a,b,c){var e=j(indexedDB,"open",[a,b]),g=e.request;return g.onupgradeneeded=function(a){c&&c(new f(g.result,a.oldVersion,g.transaction))},e.then(function(a){return new d(a)})},delete:function(a){return j(indexedDB,"deleteDatabase",[a])}};"undefined"==typeof module?self.idb=l:(module.exports=l,module.exports.default=module.exports)}();</script></head><body></body></html>