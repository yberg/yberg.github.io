<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-storage/app-localstorage/app-localstorage-document.html"><link rel="import" href="../bower_components/iron-ajax/iron-ajax.html"><link rel="import" href="../bower_components/iron-meta/iron-meta.html"><link rel="import" href="../bower_components/paper-input/paper-input.html"><link rel="import" href="../bower_components/paper-button/paper-button.html"><link rel="import" href="ma-header-layout.html"><link rel="import" href="ma-spinner.html"></head><body><dom-module id="ma-profile"><template><style>.wrapper{margin:16px;}</style><iron-meta key="env" value="{{env}}"></iron-meta><app-localstorage-document key="auth" data="{{auth}}"></app-localstorage-document><iron-ajax auto="" url="[[env.apiUrl]]/Participant/GetMyParticipantInfo?auth=[[auth]]" method="post" content-type="application/x-www-form-urlencoded" handle-as="json" last-response="{{user}}" loading="{{loading}}"></iron-ajax><iron-ajax id="updateParticipantInfoRequest" url="[[env.apiUrl]]/Participant/UpdateMyParticipantInfo" method="post" content-type="multipart/form-data" handle-as="json" on-response="_handleUpdateParticipantInfoResponse" loading="{{loading}}"></iron-ajax><ma-spinner overlay="" loading="[[loading]]"></ma-spinner><ma-header-layout title="Profil" fixed="" shadow=""><paper-button slot="menu" on-tap="_updateParticipantInfo">Spara</paper-button><div class="wrapper condense"><paper-input label="E-postadress" value="[[user.Email]]" disabled=""></paper-input><paper-input label="Förnamn" value="{{user.FirstName}}"></paper-input><paper-input label="Efternamn" value="{{user.LastName}}"></paper-input><br><paper-input label="Företag" value="{{user.Company}}"></paper-input><paper-input label="Titel" value="{{user.Title}}"></paper-input><br><paper-input label="Webbsida" value="{{user.Website}}"></paper-input><br><paper-input label="Telefon" value="{{user.Phone}}"></paper-input><paper-input label="LinkedIn-profil"></paper-input></div></ma-header-layout></template><script>class MaProfile extends Polymer.Element{static get is(){return'ma-profile'}static get properties(){return{user:Object}}ready(){super.ready();const a=JSON.parse(localStorage.getItem('user'));this.user={Email:a.email,FirstName:a.firstName,LastName:a.lastName}}_updateParticipantInfo(){var a=new FormData;a.append('applicationId',this.env.appId),a.append('auth',this.auth),a.append('FirstName',this.user.FirstName),a.append('LastName',this.user.LastName);var b=new XMLHttpRequest;b.open('POST',`${this.env.apiUrl}/Participant/UpdateMyParticipantInfo`),b.setRequestHeader('Content-Type','multipart/form-data; boundary="8d1e1fbe-1baa-4471-ba0a-40ee98e43dd0"'),b.send(a)}_handleUpdateParticipantInfoResponse(a){console.log(a.detail.response)}}window.customElements.define(MaProfile.is,MaProfile);</script></dom-module></body></html>